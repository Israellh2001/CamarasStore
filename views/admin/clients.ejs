<!DOCTYPE html>
<html lang="en">
    <head>

        <!-- Bootstrap core CSS -->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet">
        <!-- Custom fonts for this template -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.1/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Varela+Round" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">
        <!-- Custom styles for this template -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/startbootstrap-grayscale/5.0.4/css/grayscale.min.css" rel="stylesheet">

        <link rel="stylesheet" href="styles.css">

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
    </head>
    <body>
        <!-- Header -->
        <nav class="navbar navbar-light bg-light" style="padding: 1em">


          <div class="nav-brand"> <h3>Dedos tienda <i class="fas fa-store"></i> </h3>  </div>

          <form class="form-inline">
              <div style="margin: 0 1em 0 0em">
                <a href="">Admin
                    <i class="fas fa-user fa-lg"></i>
                </a>
              </div>

              <input class="form-control mr-sm-2" type="search" placeholder="Camaras, lentes, tripies" aria-label="Search">
              <a href=""><i class="fas fa-search"></i></a>
          </form>

      </nav>

        <!-- Navigation -->
        <ul class="nav nav-tabs justify-content-center" style="margin-top: 1em">
          <li class="nav-item">
            <a class="nav-link" href="/">Inicio</a>
          </li>
           <li class="nav-item dropdown">
          </div>
            <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Productos</a>
          <div class="dropdown-menu">
            <a class="dropdown-item" href="#">Camaras</a>
            <a class="dropdown-item" href="#">Lentes</a>
            <a class="dropdown-item" href="#">Tripies</a>
            <a class="dropdown-item" href="#">Accesorios</a>
            <a class="dropdown-item" href="#">Flashes</a>
            <a class="dropdown-item" href="#">Fotografias</a>
          </div>
            <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Ofertas</a>
            <div class="dropdown-menu">
                <a class="dropdown-item" href="#">Camaras</a>
                <a class="dropdown-item" href="#">Lentes</a>
            </div>
            </li>
            <li class="nav-item">
                    <a class="nav-link active" href="/admin">Administrador</a>
            </li>
        </ul>
        <!-- Body -->
        <div class="container" style="margin-top: 3em;">
            <div class="row" >
                <div class="col card" style="margin-right: 1.5em; padding-bottom: 2em; padding-top: 1em;">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Email</th>
                        <th scope="col">Contraseña</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for (var i = 0; i < rows.length; i++ ){ %>
                          <tr onclick='selectCliente( <%- JSON.stringify(rows[i]) %>)'>
                            <td><%= i+1 %></td>
                            <td><%= rows[i].Nombre %></td>
                            <td><%= rows[i].Email %></td>
                            <td><%= rows[i].Contraseña %></td>
                          </tr>
                        <% } %>
                    </tbody>
                  </table>
                </div>
                <div class="col card" style="margin-left: 1.5em; padding-bottom: 2em; padding-top: 1em;">
                    <form action="/admin/cliente" method="post">
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="Nombre">Nombre</label>
                                <input type="text" class="form-control" id="Nombre" name="Nombre" placeholder="Nombre">
                            </div>
                            <div class="form-group col-md-6">
                                <label for="Email">Email</label>
                                <input type="email" class="form-control" id="Email" placeholder="Email" name="Email">
                            </div>
                            <div class="form-group col">
                              <label for="Contraseña">Contraseña</label>
                              <input type="password" class="form-control" id="Contraseña" placeholder="Contraseña" name="Contraseña">
                          </div>
                        </div>
                        <div class="form-group">
                            <label for="Direccion">Direccion</label>
                            <input type="text" class="form-control" id="Direccion" placeholder="1234 Main St" name="Direccion">
                        </div>
                        <div class="form-group">
                            <label for="Telefono">Telefono</label>
                            <input type="text" class="form-control" id="Telefono" placeholder="(449) 123 1234" name="Telefono" >

                            <label for="Turno">Turno</label>
                            <select id="Turno" class="form-control" name="Turno">
                                <option selected>Selecciona...</option>
                                <option>Matutino</option>
                                <option>Vespertino</option>
                            </select>
                            <br>
                            <label for="Fecha_Ingreso">Fecha de ingreso</label>
                            <input id="Fecha_Ingreso" class="form-control" type="date" name="Fecha_Ingreso">

                        </div>
                        <div class="form-group">
                          <label for="Edad">Edad</label>
                          <input type="text" class="form-control" id="Edad" placeholder="" name="Edad">
                      </div>
                        <div class="form-row">
                            <div class="form-group col-md-6">
                                <label for="Cargo_Area">Cargo-Area</label>
                                <input type="text" class="form-control" id="Cargo_Area" name="Cargo_Area">
                            </div>
                            <div class="form-group col-md-2">
                                <label for="Sueldo">Sueldo</label>
                                <input type="text" class="form-control" id="Sueldo" name="Sueldo">
                            </div>
                            <div class="form-group col-md-4">
                                <label for="Sexo">Sexo</label>
                                <select id="Sexo" class="form-control" name="Sexo">
                                <option selected>Choose...</option>
                                <option>Mujer</option>
                                <option>Hombre</option>
                                </select>
                            </div>
                        </div>
                    <br>
                    <center>
                      <button type="submit" class="btn btn-primary">Editar/Agregar</button>
                      <button type="button" class="btn btn-danger" onclick="eliminar()">Eliminar</button>
                    </center>
                  </form>
                </div>
            </div>
        </div>

        <script type="text/javascript">
        var id;
        var eliminar = function(){
          location.href = "/admin/cliente/delete/" + id
        }

          var selectCliente = function(User){
            id = User._id
            document.getElementById("Nombre").value = User.Nombre
            document.getElementById("Contraseña").value = User.Contraseña
            document.getElementById("Email").value = User.Email
            document.getElementById("Direccion").value = User.Direccion
            document.getElementById("Telefono").value = User.Telefono
            document.getElementById("Turno").value = User.Turno
            document.getElementById("Fecha_Ingreso").value = User.Fecha_Ingreso
            document.getElementById("Edad").value = User.Edad
            document.getElementById("Cargo_Area").value = User.Cargo_Area
            document.getElementById("Sueldo").value = User.Sueldo
            document.getElementById("Sexo").value = User.Sexo
          }
        </script>
        <!-- Footer -->
<% include ../partials/footer.ejs %>
